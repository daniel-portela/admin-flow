<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-narrow">
        <div class="modal-content p-3">
            <header class="modal-header border-0">
                <h2 class="modal-title h4 fw-bold" id="loginModalLabel">Entrar</h2>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar">
                </button>
            </header>

            <main class="modal-body">
                <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
                    <div class="form-group mb-3">
                        <label for="email" class="form-label d-flex align-items-center">
                            <i class="fas fa-envelope me-2" aria-hidden="true"></i>
                            <span>E-mail</span>
                        </label>
                        <div class="input-group">
                            <input type="email" id="email" class="form-control" [ngClass]="{ 
                                'is-invalid': isFieldInvalid('email'),
                                'is-valid': isFieldValid('email') }"
                                formControlName="email" placeholder="Digite seu e-mail" aria-describedby="emailFeedback">
                            
                            <div id="emailFeedback" class="invalid-feedback" *ngIf="loginForm.get('email')?.touched">
                                <span *ngIf="loginForm.get('email')?.errors?.['required']">
                                    E-mail é obrigatório
                                </span>
                                <span *ngIf="loginForm.get('email')?.errors?.['email']">
                                    E-mail inválido
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group mb-3">
                        <label for="password" class="form-label d-flex align-items-center">
                            <i class="fas fa-lock me-2" aria-hidden="true"></i>
                            <span>Senha</span>
                        </label>
                        <div class="input-group">
                            <input type="password" id="password" class="form-control" [ngClass]="{
                                'is-invalid': isFieldInvalid('password'),
                                'is-valid': isFieldValid('password') }" 
                                formControlName="password" placeholder="Digite sua senha" aria-describedby="passwordFeedback">
                            
                            <div id="passwordFeedback" class="invalid-feedback"
                                *ngIf="loginForm.get('password')?.touched">
                                <span *ngIf="loginForm.get('password')?.errors?.['required']">
                                    Senha é obrigatória
                                </span>
                                <span *ngIf="loginForm.get('password')?.errors?.['minlength']">
                                    Senha deve ter no mínimo 6 caracteres
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="alert alert-danger d-flex align-items-center" role="alert" *ngIf="loginError">
                        <i class="fas fa-exclamation-circle me-2" aria-hidden="true"></i>
                        <span>{{ loginError }}</span>
                    </div>

                    <button type="submit" class="btn btn-login w-100 mb-3" [disabled]="loginForm.invalid">
                        <span>Entrar</span>
                    </button>

                    <div class="text-center">
                        <a href="#" class="recuperar-link text-decoration-none" role="button">
                            Esqueceu a senha?
                        </a>
                    </div>
                </form>

                <div class="social-login-divider my-4 text-center">
                    <span class="text-muted">ou</span>
                </div>

                <button type="button" class="btn btn-google w-100 d-flex align-items-center justify-content-center"
                    aria-label="Entrar com o Google">
                    <i class="fab fa-google me-2" aria-hidden="true"></i>
                    <span>Entrar com o Google</span>
                </button>
            </main>
        </div>
    </div>
</div>